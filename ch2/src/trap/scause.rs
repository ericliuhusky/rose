pub fn 读取异常类型() -> 异常类型 {
    let 触发异常原因代码: usize;
    unsafe {
        core::arch::asm!("csrr {}, scause", out(reg) 触发异常原因代码);
    }
    异常类型::解析(触发异常原因代码)
}

pub enum 异常类型 {
    用户系统调用,
    存储错误,
    存储页错误,
    非法指令,
    其它
}

impl 异常类型 {
    fn 解析(触发异常原因代码: usize) -> Self {
        match 触发异常原因代码 {
            2 => 异常类型::非法指令,
            7 => 异常类型::存储错误,
            15 => 异常类型::存储页错误,
            8 => 异常类型::用户系统调用,
            _ => 异常类型::其它
        }
    }
}
